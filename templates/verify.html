<!DOCTYPE html>
<html>
<head><title>Verify</title>
<link rel="stylesheet" href="../static/styles.css">
</head>
<body>
    <h2>Enter Verification Code</h2>

    {% if error_message %}
    <div style="color: red; margin-bottom: 15px; font-weight: bold;">
        ⚠️ {{ error_message }}
    </div>
    {% endif %}

    <form method="POST">
        <label>Code:</label>
        <input type="text" name="code" required>
        <button type="submit">Submit</button>
    </form>

    <!-- Loading overlay -->
    <div id="loadingOverlay" style="
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(255,255,255,0.8);
        z-index: 9999;
        text-align: center;
        font-family: Arial, sans-serif;
    ">
        <div style="margin-top: 20%; font-size: 24px; color: #333;">
            ⏳ Please wait, processing...
        </div>
        <div style="margin-top: 20px; border: 6px solid #ccc; border-top: 6px solid #3498db; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; display: inline-block;"></div>
    </div>

    <script>
        // Add spinner animation
        const style = document.createElement('style');
        style.innerHTML = `
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(style);

        // Show overlay on form submit
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll("form").forEach(form => {
                form.addEventListener("submit", () => {
                    document.getElementById("loadingOverlay").style.display = "block";
                });
            });
        });
    </script>

</body>
</html>
